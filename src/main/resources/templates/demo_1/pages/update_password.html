<!DOCTYPE html>
<html lang="en">
  <div th:replace="demo_1/partials/_header :: header">
  </div>
  
<body>
    <div class="container-scroller">
      <div class="container-fluid page-body-wrapper full-page-wrapper">
        <div class="content-wrapper d-flex align-items-center auth auth-bg-1 theme-one">
          <div class="row w-100">
            <div class="col-lg-4 mx-auto">
              <div class="auto-form-wrapper mb-4">
                <h2 class="text-center mb-4">[[#{email.resetPassword}]]</h2>
                <form th:action="@{/confirmReset}" method="POST" id="form">
                <input type="hidden" name="token" th:value="${token}">
                  <div class="form-group">
                    <label class="label">[[#{NewPassword}]]</label>
                    <div class="input-group">
                      <input id="newPassword" type="password" class="form-control" name="password" th:placeholder="#{NewPassword}">
                      <div class="input-group-append">
                        <span class="input-group-text">
                          <i class="mdi mdi-check-circle-outline"></i>
                        </span>
                      </div>
                    </div>
                  </div>
                  <div class="form-group">
                    <label class="label">[[#{ConfirmPassword}]]</label>
                    <div class="input-group">
                      <input id="confirmPassword" type="password" class="form-control" name="confirmPassword" th:placeholder="#{ConfirmPassword}">
                      <div class="input-group-append">
                        <span class="input-group-text">
                          <i class="mdi mdi-check-circle-outline"></i>
                        </span>
                      </div>
                    </div>
                  </div>
                  <div class="form-group" >
                  	<div class="input-group-append" >
                          <p class="alert alert-danger" id="error" style="display:none;"> </p>
                     </div>
                  </div>
                  <div class="form-group" >
                    <input type='submit' name='submit' class="btn btn-primary submit-btn btn-block" th:value="#{action.changePassword}"/>
                  </div>
                </form>
              </div>
              <script>
				var passNotSame = "[[#{alert.passNotSame}]]";
              </script>
              <script>

              
              $("form").submit(function(e){
            	  var pass = $("#newPassword").val();
             	  var confirmPass = $("#confirmPassword").val();

            	  $("#error").hide();
            	  
                  if(pass != confirmPass){
                	  e.preventDefault();
                	  $("#error").html(passNotSame);
                	  $("#error").css("display", "block");
                  }else{
                	  $(this).trigger('submit');
                  }
              });
              
              </script>
	            <div th:replace="demo_1/partials/_footer :: footer">
				</div>
            </div>
          </div>
        </div>
        <!-- content-wrapper ends -->
      </div>
      <!-- page-body-wrapper ends -->
    </div>
    <!-- container-scroller -->
    <!-- plugins:js -->
    <script src="../../../assets/vendors/js/vendor.bundle.base.js"></script>
    <script src="../../../assets/vendors/js/vendor.bundle.addons.js"></script>
    <!-- endinject -->
    <!-- inject:js -->
    <script src="../../../assets/js/shared/off-canvas.js"></script>
    <script src="../../../assets/js/shared/misc.js"></script>
    <!-- endinject -->
  </body>
</html>